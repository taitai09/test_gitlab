<!DOCTYPE html>
<html lang="ko">
<head>
	<title>:: OPEN-POP ::</title>
	<meta charset="utf-8" />
	<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>
	<meta http-equiv="cleartype" content="on"/>

	<meta http-equiv="Cache-Control" content="no-cache"/>
	<meta http-equiv="Expires" content="0"/>
	<meta http-equiv="Pragma" content="no-cache"/>

<!-- JQuery -->
<!--[if lt IE 9]>
  <script src="/resources/js/html5shiv.min.js"></script>
<![endif]-->
<link rel="stylesheet" href="/resources/css/lib/jquery-ui.css">
<link rel="stylesheet" href="/resources/css/lib/jquery-ui.structure.min.css">
<link rel="stylesheet" href="/resources/css/lib/jquery-ui.theme.min.css">
<link rel="stylesheet" href="/resources/css/lib/fontawesome/fontawesome-all.css"/>
<link rel="stylesheet" href="/resources/css/manual.css"/>

<script type="text/javascript" src="/resources/js/lib/jquery.3.4.1.js"></script>
<script type="text/javascript" src="/resources/js/lib/jquery-migrate-3.1.0.min.js"></script>
<script type="text/javascript" src="/resources/js/lib/jquery-ui.min.js"></script>
</head>
<body>
<div class="content-body">
	<h1>10.	성능 검증/추적</h1>
	<h2>10.2. 배포후 추적 관리</h2>
	<h3>10.2.1.	배포 SQL 성능 추적</h3>
	<div>
		<p>배포전 성능 점검을 통해 운영에 적용된 신규 또는 변경 SQL의 성능을 운영 환경에서 추적 관리하여, 지속적인 성능저하 현상이 감지되는 지 점검한다.</p>
	</div>

	<div class="seperate-line"></div>
	<div class="pointbox">
		<p class="point-title">[SQL 성능 추적 현황] 탭 > [성능 점검 SQL] 탭</p>
		성능 점검을 수행 후 적합 판정을 받고 운영에 적용된 SQL의 성능을 점검한다.  배포일로 부터 현재 시점까지 추적하여 배포전 대비 성능 향상, 성능 저하, 부적합에 대한 현황 정보를 조회한다.
	</div>
	<div>
		<h4>성능 점검 SQL 검색</h4>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-1.jpg"></p>
		<p class="boldtext">각 항목에 대한 설명은 아래와 같다.</p>
		<div class="list-a">
			<ul>
				<li>-  SQL수: 성능 점검을 수행 후 적합 판정을 받고 배포된 SQL 수</li>
				<li>-  성능 향상: 블럭수 기준으로 배포전 성능 점검 결과 보다 운영 성능이 향상된 SQL수</li>
				<li>-  성능 저하: 블럭수 기준으로 배포전 성능 점검 결과 보다 운영 성능이 저하된 SQL수</li>
				<li>-  부적합: 운영에서 성능 점검 결과 성능 점검 지표인 SQL 수행시간, 블럭수, 대용량 테이블 Full Scan 중 한 개라도 임계치를 초과한 SQL 수</li>
				<li>-  < 2x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 2배 미만으로 증가한 SQL수</li>
				<li>-  < 5x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 2배 이상 5배 미만으로 증가한 SQL수 </li>
				<li>-  < 10x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 5배 이상 10배 미만으로 증가한 SQL수</li>
				<li>-  < 30x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 10배 이상 30배 미만으로 증가한 SQL수</li>
				<li>-  < 50x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 30배 이상 50배 미만으로 증가한 SQL수</li>
				<li>-  < 100x: 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 50배 이상 100배 미만으로 증가한 SQL수</li>
				<li>-  >= 100x: 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 100배 이상인 SQL수</li>
			</ul>
		</div>
	</div>

	<div class="seperate-line"></div>
	<div class="pointbox">
		<p class="point-title">[SQL 성능 추적 현황] 탭 > [예외 처리 SQL] 탭</p>
		<span class="boldtext">영구 / 한시 점검제외 예외 처리</span>를 하고 운영에 적용된 SQL의 성능을 점검한다.  배포일로 부터 현재 시점까지 추적하여 배포전 대비 성능 향상, 성능 저하, 부적합에 대한 현황 정보를 조회한다.
	</div>
	<div>
		<h4>예외 처리 SQL 검색 </h4>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-2.jpg"></p>
		<p class="boldtext">각 항목에 대한 설명은 아래와 같다.</p>
		<div class="list-a">
			<ul>
				<li>-  SQL수: 영구 점검 제외 / 한시 점검제외 예외처리 후 배포된 SQL 수</li>
				<li>-  적합: 운영에서 성능 점검 결과 성능 점검 지표인 SQL 수행시간, 블럭수, 대용량 테이블 Full Scan 모두 임계치 내에 있는 SQL 수</li>
				<li>-  부적합: 운영에서 성능 점검 결과 성능 점검 지표인 SQL 수행시간, 블럭수, 대용량 테이블 Full Scan 중 한 개라도 임계치를 초과한 SQL 수</li>
				<li>-  <= 0.1s: 운영에 수행된 평균 수행시간이 0.1초 이하인 SQL수</li>
				<li>-  < 0.3s  : 운영에 수행된 평균 수행시간이 0.1초를 초과하고 0.3초 미만인 SQL수 </li>
				<li>-  < 1s    : 운영에 수행된 평균 수행시간이 0.3초 이상 1초 미만인 SQL수</li>
				<li>-  < 3s    : 운영에 수행된 평균 수행시간이 1초 이상 3초 미만인 SQL수</li>
				<li>-  < 10s  : 운영에 수행된 평균 수행시간이 3초 이상 10초 미만인 SQL수</li>
				<li>-  < 60s  : 운영에 수행된 평균 수행시간이 10초 이상 60초 미만인 SQL수</li>
				<li>-  >= 60s: 운영에 수행된 평균 수행시간이 60초 이상인 SQL수 </li>
			</ul>
		</div>
	</div>

	<div class="seperate-line"></div>
	<div class="pointbox">
		<p class="point-title">[SQL 성능 추적 현황] 탭 > [Charts] 탭</p>
	</div>
	<div>
		<h4>Buffer Gets 차트</h4>
		<p>성능 점검 지표인 <span class="boldtext">블럭수</span> 관점에서 운영에서 성능 점검 결과, 일일 부적합 추이, 적합 • 부적합 현황, 배포 대비 성능 향상 및 저하에 대한 정보를 차트로 조회한다.</p>
		<div class="list-a">
			<ul>
				<li>-  일일 부적합: 일 부적합 SQL 수</li>
				<li>-  일일 부적합률(%): 배포 SQL 수 대비 부적합 건수 비율 </li>
				<li>-  적합: 운영에서 성능 점검 결과 성능 점검 지표인 블럭수 평균이 임계치 내에 있는 SQL 수</li>
				<li>-  부적합: 운영에서 성능 점검 결과 성능 점검 지표인 블럭수 평균이 임계치를 초과한 SQL 수</li>
				<li>-  Improved: 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 향상된 경우</li>
				<li>-  Regressed: 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 저하된 경우</li>
			</ul>
		</div>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-3.jpg"></p>

		<h4>Elpased Time 차트</h4>
		<p>성능 점검 지표인 <span class="boldtext">SQL수행시간</span> 관점에서, 운영에서 성능 점검 결과 일일 부적합 추이, 적합 • 부적합 현황, 배포 대비 성능 향상 및 저하에 대한 정보를 차트로 조회한다.</p>
		<div class="list-a">
			<ul>
				<li>-  일일 부적합: 일 부적합 SQL 수</li>
				<li>-  일일 부적합률(%): 배포 SQL 수 대비 부적합 건수 비율 </li>
				<li>-  적합: 운영에서 성능 점검 결과 성능 점검 지표인 SQL수행시간 평균이 임계치 내에 있는 SQL 수</li>
				<li>-  부적합: 운영에서 성능 점검 결과 성능 점검 지표인 SQL수행시간 평균이 임계치를 초과한 SQL 수</li>
				<li>-  Improved: 배포전 성능 점검 결과 SQL수행시간 보다 운영에 수행된 평균 SQL수행시간이 향상된 경우</li>
				<li>-  Regressed: 배포전 성능 점검 결과 SQL수행시간 보다 운영에 수행된 평균 SQL수행시간이 저하된 경우</li>
			</ul>
		</div>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-4.jpg"></p>

		<h4>Plan 변경 차트</h4>
		<p>성능 점검 지표인 <span class="boldtext">Plan 변경</span> 관점에서, 운영에서 성능 점검 결과 일일 부적합 추이, 적합 • 부적합 현황, 배포 대비 성능 향상 및 저하에 대한 정보를 차트로 조회한다.</p>
		<div class="list-a">
			<ul>
				<li>-  일일 부적합: 일 부적합 SQL 수</li>
				<li>-  일일 부적합률(%): 배포 SQL 수 대비 부적합 건수 비율 </li>
				<li>-  적합: 운영에서 성능 점검 결과 성능 점검 지표인 Plan 변경 건의 블럭수 평균이 임계치 내에 있는 SQL 수</li>
				<li>-  부적합: 운영에서 성능 점검 결과 성능 점검 지표인 Plan 변경 건의 블럭수 평균이 임계치를 초과한 SQL 수</li>
				<li>-  Improved: Plan 변경 건 중 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 향상된 경우</li>
				<li>-  Regressed: Plan 변경 건 중 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 저하된 경우</li>
			</ul>
		</div>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-5.jpg"></p>

		<h4>성능 점검 SQL 차트</h4>
		<p>성능 점검을 수행 후 <span class="boldtext">적합</span> 판정을 받고 운영에 적용된 SQL의 운영 성능 점검 결과 일일 부적합 추이, 적합 • 부적합 현황, 성능 저하에 대한 정보를 차트로 조회한다.</p>
		<div class="list-a">
			<ul>
				<li>-  일일 부적합: 일 부적합 SQL 수</li>
				<li>-  일일 부적합률(%): 배포 SQL 수 대비 부적합 건수 비율 </li>
				<li>-  적합: 운영에서 성능 점검 결과 성능 점검 지표인 SQL 수행시간, 블럭수, 대용량 테이블 Full Scan 중 한 개라도 임계치 내에 있는 SQL 수</li>
				<li>-  부적합: 운영에서 성능 점검 결과 성능 점검 지표인 SQL 수행시간, 블럭수, 대용량 테이블 Full Scan 중 한 개라도 임계치를 초과한 SQL 수</li>
				<li>-  < 2x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 2배 미만으로 증가한 SQL수</li>
				<li>-  < 5x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 2배 이상 5배 미만으로 증가한 SQL수 </li>
				<li>-  < 10x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 5배 이상 10배 미만으로 증가한 SQL수</li>
				<li>-  < 30x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 10배 이상 30배 미만으로 증가한 SQL수</li>
				<li>-  < 50x : 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 30배 이상 50배 미만으로 증가한 SQL수</li>
				<li>-  < 100x: 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 50배 이상 100배 미만으로 증가한 SQL수</li>
				<li>-  >= 100x: 배포전 성능 점검 결과 블럭수 보다 운영에 수행된 평균 블럭수가 100배 이상인 SQL수</li>
			</ul>
		</div>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-6.jpg"></p>

		<h4>예외 처리 SQL 차트</h4>
		<p>영구 / 한시 점검제외  <span class="boldtext">예외 처리</span>를 하고 운영에 적용된 SQL의 운영 성능 점검 결과 일일 부적합 추이, 적합 • 부적합 현황, 성능 저하에 대한 정보를 차트로 조회한다.</p>
		<div class="list-a">
			<ul>
				<li>-  일일 부적합: 일 부적합 SQL 수</li>
				<li>-  일일 부적합률(%): 배포 SQL 수 대비 부적합 건수 비율 </li>
				<li>-  적합: 운영에서 성능 점검 결과 성능 점검 지표인 SQL 수행시간, 블럭수, 대용량 테이블 Full Scan 모두 임계치 내에 있는 SQL 수</li>
				<li>-  부적합: 운영에서 성능 점검 결과 성능 점검 지표인 SQL 수행시간, 블럭수, 대용량 테이블 Full Scan 중 한 개라도 임계치를 초과한 SQL 수</li>
				<li>-  <= 0.1s: 운영에 수행된 평균 수행시간이 0.1초 이하인 SQL수</li>
				<li>-  < 0.3s  : 운영에 수행된 평균 수행시간이 0.1초를 초과하고 0.3초 미만인 SQL수 </li>
				<li>-  < 1s    : 운영에 수행된 평균 수행시간이 0.3초 이상 1초 미만인 SQL수</li>
				<li>-  < 3s    : 운영에 수행된 평균 수행시간이 1초 이상 3초 미만인 SQL수</li>
				<li>-  < 10s  : 운영에 수행된 평균 수행시간이 3초 이상 10초 미만인 SQL수</li>
				<li>-  < 60s  : 운영에 수행된 평균 수행시간이 10초 이상 60초 미만인 SQL수</li>
				<li>-  >= 60s: 운영에 수행된 평균 수행시간이 60초 이상인 SQL수</li>
			</ul>
		</div>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-7.jpg"></p>
	</div>

	<div class="seperate-line"></div>
	<div class="pointbox">
		<p class="point-title">[SQLs] 탭</p>
		배포전 성능점검을 통해 운영에 적용된 SQL을 추적하여 각 SQL에 대한 성능 추적, Plan 비교, 성능 점검 결과 비교, 프로그램 정보, 성능 추이 정보를 조회한다.
	</div>
	<div>
		<h4>SQLs 검색</h4>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-8.jpg"></p>
		<p class="boldtext">주요 항목에 대한 설명은 아래와 같다.</p>
		<div class="list-a">
			<ul>
				<li>-  평균 수행시간(초)-Activity(%): 해당 SQL의 수행시간이 DB 전체 SQL 수행시간에서 차지하는 비율</li>
				<li>-  평균 블럭수-Activity(%): 해당 SQL의 읽은 블럭수가 DB 전체 SQL이 읽은 블럭수에서 차지하는 비율</li>
				<li>-  예외 여부(‘Y’):  영구 점검 제외 / 한시 점검제외 예외처리 후 배포된 SQL</li>
				<li>-  부적합 여부(‘Y’): 운영에서 성능 점검 결과 성능 점검 지표인 SQL 수행시간, 블럭수, 대용량 테이블 Full Scan 중 한 개라도 임계치를 초과한 SQL 수</li>
				<li>-  이전 부적합 여부(‘Y’): 배포 이전의 운영 성능 점검 결과 성능 점검 지표인 SQL 수행시간, 블럭수, 대용량 테이블 Full Scan 중 한 개라도 임계치를 초과한 SQL 수</li>
			</ul>
		</div>

		<h4>튜닝대상선정</h4>
		<p>프로젝트, 튜닝진행단계는 선택 항목이다.</p>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-9.jpg"></p>

		<h4>SQL 성능 추적 탭</h4>
		<p>배포 이전의 운영 성능과 배포전 성능 점검 시의 성능, 배포후 운영 성능을 비교할 수 있다.</p>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-10.jpg"></p>
		<p class="boldtext">SQL_ID를 클릭하면 SQL ID로 탭이 생성되며 아래와 같이 조회된다.</p>
		<div class="list-a">
			<ul>
				<li>-  Bind Value : 쿼리 실행에 사용된 바인드 값과 바인드 값 별 성능정보</li>
				<li>-  Tree Plan, Text Plan, Grid Plan : 다양한 포맷의 Plan</li>
				<li>-  Outline : 쿼리 실행 시에 내부적으로 사용된 Outline정보(Hint)</li>
				<li>-  SQL Stat Trend: Executions, Elapsed Time, Buffer Gets, Disk Reads 일별 추이</li>
				<li>-  SQL Stat History: SQL의 일별 Elapsed Time, Buffer Gets, Disk Reads 등의 Stat 정보</li>
			</ul>
		</div>		
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-11.jpg"></p>

		<h4>SQL Info 탭</h4>
		<p>성능 점검 시 SQL vs. 운영에 적용된 SQL의 바인드 변수•값 및 Plan 정보가 조회된다. </p>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-12.jpg"></p>

		<h4>성능 점검 결과 탭</h4>
		<p>점검 지표에 대한 배포전 성능 점검 결과와 배포후 성능 점검 결과에 대한 적합, 부적합이 조회된다. 운영 DB에서의 메모리 사용량은 부하를 줄이기 위하여 수집하지 않아 N/A로 표시된다.</p>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-13.jpg"></p>

		<h4>프로그램 정보 탭</h4>
		<p>SQL의 프로그램 정보가 조회된다.</p>
		<p class="imagebox-b"><img src="/resources/images/menual/bgimg/10-2-1-14.jpg"></p>
	</div>

</div>
</body>
</html>
